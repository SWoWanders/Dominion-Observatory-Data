// ============================================
// SOURCE CITATIONS DATABASE
// Complete bibliography for The Dominion Observatory (Ottawa) Archive
// ============================================

const SourceDatabase = {
    // Primary Archival Sources
    "FHBRO 1992": {
        id: "FHBRO-1992-035",
        shortForm: "FHBRO 1992",
        fullCitation: "Hucker, Jacqueline. 'Dominion Observatory, Ottawa.' FHBRO Building Report 92-035. Architectural History Branch, Parks Canada, 1992.",
        type: "Government Heritage Report",
        archive: "Carleton University Architecture Museum",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15",
        notes: "Measured drawings, architectural analysis, heritage character statement"
    },
    
    "FHBRO 1992a": {
        id: "FHBRO-1992-041",
        shortForm: "FHBRO 1992a",
        fullCitation: "Hucker, Jacqueline. 'South Azimuth Building.' FHBRO Building Report 92-041. Architectural History Branch, Parks Canada, 1992.",
        type: "Government Heritage Report",
        archive: "Carleton University Architecture Museum",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    "FHBRO 1992b": {
        id: "FHBRO-1992-042",
        shortForm: "FHBRO 1992b",
        fullCitation: "Hucker, Jacqueline. 'Photo Equatorial Building.' FHBRO Building Report 92-042. Architectural History Branch, Parks Canada, 1992.",
        type: "Government Heritage Report",
        archive: "Carleton University Architecture Museum",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    // Library and Archives Canada
    "LAC PA-034064": {
        id: "LAC-PA-034064",
        shortForm: "LAC PA-034064",
        fullCitation: "Photograph: Dominion Observatory, c. 1905. Library and Archives Canada, PA-034064.",
        type: "Archival Photograph",
        archive: "Library and Archives Canada",
        location: "395 Wellington Street, Ottawa",
        reliability: "PRIMARY",
        url: "https://www.bac-lac.gc.ca",
        accessDate: "2025-02-15"
    },
    
    "LAC RG11": {
        id: "LAC-RG11",
        shortForm: "LAC RG11",
        fullCitation: "Records of the Department of Public Works. Architectural Drawings Series. Library and Archives Canada, RG11.",
        type: "Government Records",
        archive: "Library and Archives Canada",
        reliability: "PRIMARY",
        url: "https://www.bac-lac.gc.ca",
        accessDate: "2025-02-15",
        notes: "Original construction plans, 1901-1905"
    },
    
    // Scholarly Publications
    "CLARK 1993": {
        id: "CLARK-1993",
        shortForm: "Clark 1993",
        fullCitation: "Clark, Anna. 'The Dominion Observatory and the Origin of Geophysics in Canada.' CSTM Manuscript Report 93-1. Ingenium: Canada's Museums of Science and Innovation, Ottawa, 1993.",
        type: "Academic Manuscript Report",
        publisher: "Ingenium",
        reliability: "SECONDARY",
        url: "https://ingeniumcanada.org",
        accessDate: "2025-02-15",
        notes: "Comprehensive history of geophysical programs"
    },
    
    "JARRELL 1988": {
        id: "JARRELL-1988",
        shortForm: "Jarrell 1988",
        fullCitation: "Jarrell, Richard A. The Light of Heaven: Astronomy in Canada. Ingenium: Canada's Museums of Science and Innovation, Ottawa, 1988.",
        type: "Academic Monograph",
        publisher: "Ingenium",
        reliability: "SECONDARY",
        url: "https://ingeniumcanada.org",
        accessDate: "2025-02-15",
        notes: "Definitive history of Canadian astronomy"
    },
    
    "STEWART 1928": {
        id: "STEWART-1928",
        shortForm: "Stewart 1928",
        fullCitation: "Stewart, R. Meldrum. 'The Dominion Observatory.' Journal of the Royal Astronomical Society of Canada 22 (1928): 233-234.",
        type: "Academic Journal Article",
        journal: "Journal of the Royal Astronomical Society of Canada",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15",
        notes: "Contemporary account by Dominion Astronomer"
    },
    
    "BEALS 1956": {
        id: "BEALS-1956",
        shortForm: "Beals 1956",
        fullCitation: "Beals, C.S. 'The Dominion Observatory.' Journal of the Royal Astronomical Society of Canada 50 (1956): 257-265.",
        type: "Academic Journal Article",
        journal: "Journal of the Royal Astronomical Society of Canada",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    "BEALS 1979": {
        id: "BEALS-1979",
        shortForm: "Beals 1979",
        fullCitation: "Beals, C.S. 'Meteorite Craters in the Canadian Shield.' Ingenium, 1979.",
        type: "Research Publication",
        publisher: "Ingenium",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    "HODGSON 1958": {
        id: "HODGSON-1958",
        shortForm: "Hodgson 1958",
        fullCitation: "Hodgson, E.A. 'Seismological Work in Canada.' Journal of the Royal Astronomical Society of Canada 52 (1958): 122-135.",
        type: "Academic Journal Article",
        journal: "Journal of the Royal Astronomical Society of Canada",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    "KLOTZ 1902": {
        id: "KLOTZ-1902",
        shortForm: "Klotz 1902",
        fullCitation: "Klotz, Otto. 'First Canadian Gravity Measurement.' Report to Department of Interior, 1902.",
        type: "Government Report",
        archive: "Library and Archives Canada",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    "KLOTZ 1906": {
        id: "KLOTZ-1906",
        shortForm: "Klotz 1906",
        fullCitation: "Klotz, Otto. 'Alaska Boundary Telegraphic Longitude Determination.' Geodetic Survey of Canada Report, 1906.",
        type: "Technical Report",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    "KLOTZ 1922": {
        id: "KLOTZ-1922",
        shortForm: "Klotz 1922",
        fullCitation: "Klotz, Otto. 'Canada Joins International Scientific Unions.' Report, 1922.",
        type: "Government Report",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    // Institutional Sources
    "CSTM 1994": {
        id: "CSTM-1994",
        shortForm: "CSTM 1994",
        fullCitation: "Canada Science and Technology Museum. Biographical Files: Dominion Observatory Personnel. Ingenium Archives, 1994.",
        type: "Archival Biographical Files",
        archive: "Ingenium: Canada's Museums of Science and Innovation",
        reliability: "SECONDARY",
        url: "https://ingeniumcanada.org",
        accessDate: "2025-02-15"
    },
    
    "INGENIUM 2024": {
        id: "INGENIUM-2024",
        shortForm: "Ingenium 2024",
        fullCitation: "Ingenium: Canada's Museums of Science and Innovation. '15-inch Refracting Telescope.' Online Collection, 2024.",
        type: "Museum Collection Record",
        publisher: "Ingenium",
        reliability: "SECONDARY",
        url: "https://ingeniumcanada.org",
        accessDate: "2025-02-15"
    },
    
    "PARKS CANADA 2025": {
        id: "PARKS-2025",
        shortForm: "Parks Canada 2025",
        fullCitation: "Parks Canada. 'Dominion Observatory Complex National Historic Site of Canada.' News Release, January 15, 2025.",
        type: "Government News Release",
        publisher: "Parks Canada",
        reliability: "PRIMARY",
        url: "https://www.pc.gc.ca",
        accessDate: "2025-02-15"
    },
    
    "CBC 2023": {
        id: "CBC-2023",
        shortForm: "CBC 2023",
        fullCitation: "Canadian Broadcasting Corporation. 'CBC Time Signal Ends After 84 Years.' News Release, October 9, 2023.",
        type: "News Media",
        publisher: "CBC",
        reliability: "SECONDARY",
        url: "https://www.cbc.ca",
        accessDate: "2025-02-15"
    },
    
    // Contemporary Sources
    "OTTAWA JOURNAL 1902": {
        id: "OTTAWA-JOURNAL-1902",
        shortForm: "Ottawa Journal 1902",
        fullCitation: "'The New Dominion Observatory.' Ottawa Evening Journal, July 1902.",
        type: "Historical Newspaper",
        archive: "Library and Archives Canada",
        reliability: "PRIMARY",
        url: null,
        accessDate: "2025-02-15"
    },
    
    // Reference Works
    "RASC 1994": {
        id: "RASC-1994",
        shortForm: "RASC 1994",
        fullCitation: "Royal Astronomical Society of Canada. 'William Edmund Harper (1878-1940).' Journal of the RASC, 1994.",
        type: "Society Publication",
        publisher: "Royal Astronomical Society of Canada",
        reliability: "SECONDARY",
        url: "https://www.rasc.ca",
        accessDate: "2025-02-15"
    },
    
    "WIKIPEDIA 2024": {
        id: "WIKIPEDIA-2024",
        shortForm: "Wikipedia 2024",
        fullCitation: "Wikipedia contributors. 'Miriam Burland.' Wikipedia, The Free Encyclopedia, 2024.",
        type: "Tertiary Encyclopedia",
        publisher: "Wikimedia Foundation",
        reliability: "TERTIARY",
        url: "https://en.wikipedia.org/wiki/Miriam_Burland",
        accessDate: "2025-02-15",
        notes: "User-generated; verified against primary sources where possible"
    },
    
    "HUCKER 1992": {
        id: "HUCKER-1992",
        shortForm: "Hucker 1992",
        fullCitation: "Hucker, Jacqueline. 'David Ewart: Chief Architect.' Biographical Notes, Architectural History Branch, 1992.",
        type: "Biographical Research",
        archive: "Parks Canada",
        reliability: "SECONDARY",
        url: null,
        accessDate: "2025-02-15"
    }
};

// Citation formatting utilities
const CitationFormatter = {
    format(sourceKey, style = 'chicago') {
        const source = SourceDatabase[sourceKey];
        if (!source) return `[${sourceKey}]`;
        
        switch(style) {
            case 'apa':
                return this.formatAPA(source);
            case 'mla':
                return this.formatMLA(source);
            case 'chicago':
            default:
                return this.formatChicago(source);
        }
    },
    
    formatChicago(source) {
        return source.fullCitation;
    },
    
    formatAPA(source) {
        // Simplified APA format
        const author = source.fullCitation.split('.')[0];
        const year = source.fullCitation.match(/\d{4}/)?.[0] || 'n.d.';
        const title = source.fullCitation.match(/['"](.+?)['"]/)?.[1] || 'Untitled';
        return `${author} (${year}). ${title}.`;
    },
    
    formatMLA(source) {
        // Simplified MLA format
        const author = source.fullCitation.split('.')[0];
        const title = source.fullCitation.match(/['"](.+?)['"]/)?.[1] || 'Untitled';
        return `${author}. "${title}."`;
    },
    
    getReliabilityIcon(reliability) {
        const icons = {
            'PRIMARY': '⭐⭐⭐⭐⭐',
            'SECONDARY': '⭐⭐⭐⭐☆',
            'TERTIARY': '⭐⭐⭐☆☆',
            'UNVERIFIED': '⭐⭐☆☆☆'
        };
        return icons[reliability] || '⭐⭐⭐☆☆';
    },
    
    getAllCitations() {
        return Object.values(SourceDatabase).map(source => ({
            key: source.shortForm,
            citation: source.fullCitation,
            type: source.type,
            reliability: source.reliability
        }));
    }
};

// Make available globally
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { SourceDatabase, CitationFormatter };
      }
